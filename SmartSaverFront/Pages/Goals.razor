@page "/goals"
@using SmartSaverFront.Models

<h1>Goals</h1>

<div class="card card-dark">
    <h3>Add Goal</h3>
    <input placeholder="Goal name" @bind="goalName" class="input-dark" />
    <input type="number" step="0.01" placeholder="Target" @bind="goalTarget" class="input-dark" />
    <button class="btn-dark" @onclick="AddGoal">Add Goal</button>
</div>

<h3>Existing Goals</h3>
<table class="table table-dark">
    <thead>
        <tr>
            <th>Name</th>
            <th>Target</th>
            <th>Current</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var g in goals)
        {
            <tr>
                <td>@g.Name</td>
                <td>@g.Target.ToString("C")</td>
                <td>@g.Current.ToString("C")</td>
            </tr>
        }
    </tbody>
</table>

<style>
    /* Card styling */
    .card-dark {
        background-color: #1a1a1a;
        color: #00ff00;
        padding: 1rem;
        margin-bottom: 1.5rem;
        border-radius: 0.5rem;
        box-shadow: 0 0 10px #00ff0033;
    }

    /* Inputs and select */
    .input-dark {
        background-color: #0e0e0e;
        color: #00ff00;
        border: 1px solid #00ff00;
        padding: 0.3rem 0.5rem;
        margin-right: 0.5rem;
        border-radius: 0.25rem;
    }

    /* Button styling */
    .btn-dark {
        background-color: #00ff00;
        color: #0e0e0e;
        border: none;
        padding: 0.4rem 0.8rem;
        border-radius: 0.25rem;
        cursor: pointer;
    }

        .btn-dark:hover {
            background-color: #00cc00;
        }

    /* Table styling */
    table, th, td {
        border: 1px solid #00ff00 !important;
    }

    .table-dark {
        width: 100%;
        border-collapse: collapse;
        background-color: #0e0e0e !important;
        color: #00ff00 !important;
    }

    th, td {
        padding: 0.5rem;
        text-align: left;
    }

    tr:nth-child(even) {
        background-color: #1a1a1a !important;
    }

    tr:hover {
        background-color: #222 !important;
    }
</style>

@code {
    [CascadingParameter] public List<Goal> goals { get; set; } = new();
    private string goalName = "";
    private decimal goalTarget = 0;

    void AddGoal()
    {
        if (string.IsNullOrWhiteSpace(goalName) || goalTarget <= 0) return;
        goals.Add(new Goal(goalName, goalTarget, 0));
        goalName = ""; goalTarget = 0;
    }
}
